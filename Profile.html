<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bienvenue</title>
</head>
<body>
    <h1>Bienvenue sur notre Page!</h1>
    <p>Si vous êtes ici, c'est que vous avez réussi à vous enregistrer.</p>
    <p>Vous êtes donc sur votre page profil.</p>

    <button id="logoutBtn" style="background:linear-gradient(90deg,#5a189a,#8ec5fc);color:#fff;padding:0.7rem 1.5rem;border:none;border-radius:7px;font-size:1.1rem;font-weight:600;cursor:pointer;box-shadow:0 2px 8px rgba(90,24,154,0.08);margin-top:2rem;">Se déconnecter</button>

        <!-- Modale Bootstrap -->
        <div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="logoutModalLabel">Confirmation</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        Voulez-vous vraiment vous déconnecter ?
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"  >Non</button>
                        <button type="button" class="btn btn-primary" id="confirmLogout">Oui</button>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <script>
        const supabaseUrl = 'https://rnbhweyftnfwuxjpioye.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJuYmh3ZXlmdG5md3V4anBpb3llIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4NzM0MDEsImV4cCI6MjA3NDQ0OTQwMX0.ZHcAX5g6BaYbG6wXvnmWXzooVQdVDZ6Izu5ysvolX1o';
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

        // Affiche la modale au clic sur le bouton
        document.getElementById('logoutBtn').addEventListener('click', function() {
            var modal = new bootstrap.Modal(document.getElementById('logoutModal'));
            modal.show();
        });

        // Déconnexion si l'utilisateur confirme
        document.getElementById('confirmLogout').addEventListener('click', async function() {
            const { error } = await supabase.auth.signOut();
            if (error) {
                alert('Erreur lors de la déconnexion : ' + error.message);
            } else {
                window.location.href = 'index.html';
            }
        });
    </script>


    
    
</body>
</html>